!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){window.inc=t(1)},function(e,n,t){var r=t(2),o=t(3),i=t(4),u=t(5),c={};c.store=r,c.merge=o;var a={bizname:"",isStore:!1,clearStoreIfCantSave:!0,useSign:!0,serverUrl:"",cdnUrl:"",hook:null,count:null},l={bizname:function(e){r.setPrefix(e+":")},serverUrl:o.setUrl,cdnUrl:o.setCdnUrl},f={},s={},v={},d={},m={},p={},g=function(e){var n={};return e?(e.url&&(n.url=e.url),e.name&&(n.name=e.name),e.version&&(n.version=e.version),e.sign&&(n.sign=e.sign),n):n},S=function(){return function(){}},h=function(){},x={};x[o.RESULT_TYPE.FAILED]="error",x[o.RESULT_TYPE.SUCCESS_WITH_DIFF]="patch",x[o.RESULT_TYPE.SUCCESS_WITH_FULL_CONTENT]="full",x[o.RESULT_TYPE.SUCCESS_WITHOUT_DIFF]="none";var C=function(e){var n=u();return a.hook("pre",e||{},n,{},a),function(t){t.hasOwnProperty("module")&&(t.module=g(t.module)),t.hasOwnProperty("content")&&(t.size="string"==typeof t.content?t.content.length:0,delete t.content),t.hasOwnProperty("mergeCode")&&(t.type=x[t.mergeCode]||"unknown",delete t.mergeCode),a.hook("post",e||{},n,t,a)}},T=function(e){a.count(e,a)},y=S,_=h,E=function(e){e&&/\S/.test(e)&&window.eval.call(window,e)},I=function(e){var n=document.createElement("style");n.textContent=e,document.head.appendChild(n)},U=function(e,n){var t=document.createElement("script");t.async=!0,t.onload=n,t.src=e,document.head.appendChild(t)},b=function(e){var n=e.url,t=e.content,o=e.name,i=e.callback;setTimeout(function(){if(t){m[n]=t;var u=y("execute");return E(t,e),u({type:"js",module:e}),void i()}var c=m[n];if(c)try{var u=y("execute");E(m[n],e),u({type:"js",module:e}),i()}catch(t){_("store:remove:bo-eval-illegal"),r.removeItem(o);var u=y("native-invoke");U(n,function(){u({type:"js",module:e}),i&&i()})}else{_("store:remove:bo-content"),r.removeItem(o);var u=y("native-invoke");U(n,function(){u({type:"js",module:e}),i&&i()})}},0)},F=function(e,n){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.onload=n,document.head.appendChild(t)},L=function(e){var n=e.url,t=e.content,o=e.name,i=e.callback;setTimeout(function(){if(t){m[n]=t;var u=y("execute");return I(t),u({type:"css",module:e}),void i()}var c=m[n];if(c){var u=y("execute");I(c),u({type:"css",module:e}),i()}else{_("store:remove:bo-content"),r.removeItem(o);var u=y("native-invoke");F(n,function(){u({type:"css",module:e}),i&&i()})}})},N=function(e){var n=e.url,t=e.name,r=e.sign,o=e.content||m[n],u=e.callback,c=function(e){var n=e.replace(/[#?].*$/,"").split(".");return n[n.length-1]}(n),a="js"===c?b:"css"===c?L:null;if(!a)return void u();if(o)a({url:n,name:t,sign:r,content:o,callback:u});else{var l=y("fetch");i(n,function(o){return l({mode:"full",content:o,module:e}),H(r,w(o))?void u():void a({url:n,name:t,sign:r,content:o,callback:u})})}},k=function(n,t,r){var o=t.length,i=function(){!--o&&r&&r(n)};if(0===o)return void(r&&r());for(var u=0;u<t.length;u++){var c=t[u],a=f[c];"function"!=typeof e&&"undefined"!=typeof a?a.rely&&0!==a.rely.length?k(n,a.rely,function(e){return function(){n.push(c),i()}}(a)):(n.push(c),i()):i()}},O=function(e){var n,t,r=0;if(0===e.length)return r;for(n=0;n<e.length;n++)t=e.charCodeAt(n),r=(r<<5)-r+t,r|=0;return String(r)},w=function(e){if(e){var n=y("sign"),t=O(e);return n({content:e}),"hc1:"+t}},H=function(e,n){return!!(a.useSign&&e&&n)&&e!==n},W=function(e){var n=e.url,t=e.name,u=e.version,c=e.callback,l=e.sign;if(!v[n]||d[n])if(s[n]&&m[n]&&!d[n]){if(c)return void c(m[n])}else{if(v[n]=!0,d[n]=!1,a.isStore){var f=y("store:load"),g=r.getItem(t);f({content:g}),g||(g={},_("no-cache"));var S=g.c||"",h=g.u||"",x=g.v||"",C=g.s||"",T=h===n.replace(/[?#].*$/,"")||u&&l&&x===u&&C===l;if(T)return s[n]=!0,v[n]=!1,m[n]=S,void(c&&c(S));var E=function(o){return"number"!=typeof p[n]&&(p[n]=0),p[n]++,_("store:remove:bo-reload"),r.removeItem(t),p[n]>=o?(c(),void _("reload:exit-bo-ool")):(d[n]=!0,void W(e))},I=u?h:"";return void o.merge(I,n,S,function(e,o){if(!e&&""!==I)return E(1),void _("reload:bo-content");var i=w(e);if(H(l,i))return E(1),void _("reload:bo-sign");if(s[n]=!0,v[n]=!1,m[n]=e,e&&u&&n){var f=y("store:save"),d=r.setItem(t,e,u,n,i);f({content:e}),d||(_("store:save-failed:bo-illegal"),a.isStore=!1,a.clearStoreIfCantSave&&r.clear())}c&&c(e)})}var U=y("fetch");i(n,function(t){return U({mode:"full",module:e}),H(l,w(t))?void c():void(t?(s[n]=!0,v[n]=!1,m[n]=t,c&&c(t)):(d[n]=!0,W(e)))})}else if(c)return void setTimeout(function(){W(e)},5)},P=function(e,n){k([],e,function(e){var t=e.length,r=function(){!--t&&n&&n()};if(0===t)return void(n&&n());for(var o=0;o<e.length;o++){var i=e[o],u=f[i];W({url:u.path,name:i,version:u.version,callback:r,sign:u.sign})}})},D=function(e,n){var t=e.length,r=function(){!--t&&n&&n()};if(0===t)return void(n&&n());for(var o=0;o<e.length;o++){var i=e[o],u=f[i];"function"!=typeof i?"undefined"!=typeof u?u.rely&&0!==u.rely.length?D(u.rely,function(e){return function(){N({url:e.path,name:i,sign:e.sign,callback:r})}}(u)):N({url:u.path,name:i,sign:u.sign,callback:r}):(console&&console.warn&&console.warn("In Error :: Module not found: "+i),r()):(e[o](),r())}},j=function(e,n){return 0===arguments.length?a:1===arguments.length?a[e]:(a[e]=n,l[e]&&l[e](n),n)},R=function(e,n){e&&n&&(f[e]="string"==typeof n?{path:n}:n)},$=function(e){if(e.modules)for(var n in e.modules)if(e.modules.hasOwnProperty(n)){var t=e.modules[n];if(!e.modules.hasOwnProperty(n))continue;R(n,t)}},M=function(){var e=function(){},n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(e=n.pop()),"function"==typeof a.hook&&(y=C),"function"==typeof a.count&&(_=T),a.isStore?P(n,function(){D(n,e)}):D(n,e)},Y=function(){f={},s={},v={},d={},m={},p={},y=S,_=h};c.config=j,c.add=R,c.adds=$,c.use=M,c.reset=Y,e.exports=c},function(e,n){function t(e){d=e}function r(){return d}function o(e){if(!e)return!1;try{var n=v.getItem(d+e);return Boolean(n)}catch(e){return!1}}function i(e){if(!e)return null;try{var n=v.getItem(d+e);return n?JSON.parse(n):null}catch(e){return null}}function u(e,n,t,r,o){if(!(e&&n&&t&&r))return!1;try{var i={u:r.replace(/[?#].*$/,""),v:t,c:n};return o&&(i.s=o),v.setItem(d+e,JSON.stringify(i)),!0}catch(e){return!1}}function c(e){if(!e)return!1;try{return v.removeItem(d+e),!0}catch(e){return!1}}function a(e){var n=i(e);return n?n.v:""}function l(e){var n=i(e);return n?n.c:""}function f(e){var n=i(e);return n?n.u:""}function s(){if(d)for(var e in v)0===e.indexOf(d)&&v.removeItem(e)}var v=window.localStorage,d="";e.exports={setPrefix:t,getPrefix:r,isExist:o,getItem:i,setItem:u,removeItem:c,getVersion:a,getContent:l,getUrl:f,clear:s}},function(e,n,t){function r(){return e.exports.invokeHook?e.exports.invokeHook.apply(null,arguments):function(){}}function o(e){v=e}function i(e){d=e}function u(e,n){for(var t=r("merge:calculation"),o="",i=n,u=null,c=0;c<i.length;c++){var a=i[c];if("object"==typeof a){var l=a[0]-1,f=a[1];u&&(l+=u[0]),u=a,o+=e.substring(l,l+f)}else o+=a}return t({}),o}function c(e,n){return d+e.replace(/(http:|https:|\/)/g,"").replace(/[?#].*$/,"")+"-"+n.replace(/(http:|https:|\/)/g,"").replace(/[?#].*$/,"")}function a(e,n){return v+"?target="+e.replace(/[?#].*$/,"")+"&source="+n.replace(/[?#].*$/,"")}function l(e,n,t){var o=r("merge:pull-diff"),i=c(n,e);s(i,function(i){if(i){var u=i[i.length-1];o({mergeCode:u}),t(Number(u)===p.SUCCESS_WITH_DIFF||Number(u)===p.SUCCESS_WITH_FULL_CONTENT?{code:Number(u),data:i.substr(0,i.length-1)}:{code:Number(u)})}else{o({mergeCode:-1}),o=r("merge:request-diff");var c=a(n,e);s(c,function(e,n){if(/application\/json/i.test(n.getResponseHeader("Content-Type"))){var r=JSON.parse(e),i=Number(r.code),u=r.data;o({mergeCode:i}),t({code:i,data:u})}else o({mergeCode:-1}),t({code:p.FAILED})})}})}function f(e,n,t,r){if(v&&d||console&&console.error&&console.error("In Error :: Server url not set"),!e)return void s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)});try{l(e,n,function(e){var o=e.code,i=e.data;o===p.SUCCESS_WITH_DIFF?i.length>m?s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)}):r(u(t,JSON.parse(i)),o):o===p.SUCCESS_WITH_FULL_CONTENT?r(i,o):o===p.SUCCESS_WITHOUT_DIFF?r(t,o):s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)})})}catch(e){s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)})}}var s=t(4),v="",d="",m=65536,p={FAILED:0,SUCCESS_WITH_DIFF:1,SUCCESS_WITH_FULL_CONTENT:2,SUCCESS_WITHOUT_DIFF:3};e.exports={_merge:u,_getMixDiff:l,setUrl:o,setCdnUrl:i,merge:f,RESULT_TYPE:p}},function(e,n){e.exports=function(e,n){var t=new window.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){4===t.readyState&&(200===t.status?n(t.responseText,t):n(null,t))},t.send(null)}},function(e,n){e.exports=function(){var e=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)});return n}}]);