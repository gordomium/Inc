!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}([function(e,n,t){window.inc=t(1)},function(e,n,t){var r=t(2),o=t(3),u=t(4),i=t(5),c={};c.store=r,c.merge=o;var a={bizname:"",isStore:!1,clearStoreIfCantSave:!0,useSign:!0,serverUrl:"",cdnUrl:"",hook:null},l={bizname:function(e){r.setPrefix(e+":")},serverUrl:o.setUrl,cdnUrl:o.setCdnUrl},f={},s={},v={},d={},m={},p={},g=function(e){var n={};return e?(e.url&&(n.url=e.url),e.name&&(n.name=e.name),e.version&&(n.version=e.version),e.sign&&(n.sign=e.sign),n):n},S=function(){return function(){}},h={};h[o.RESULT_TYPE.FAILED]="error",h[o.RESULT_TYPE.SUCCESS_WITH_DIFF]="patch",h[o.RESULT_TYPE.SUCCESS_WITH_FULL_CONTENT]="full",h[o.RESULT_TYPE.SUCCESS_WITHOUT_DIFF]="none";var x=function(e){var n=i();return a.hook("pre",e||{},n,{},a),function(t){t.hasOwnProperty("module")&&(t.module=g(t.module)),t.hasOwnProperty("content")&&(t.size="string"==typeof t.content?t.content.length:0,delete t.content),t.hasOwnProperty("mergeCode")&&(t.type=h[t.mergeCode]||"unknown",delete t.mergeCode),a.hook("post",e||{},n,t,a)}},C=S,T=function(e){e&&/\S/.test(e)&&window.eval.call(window,e)},y=function(e){var n=document.createElement("style");n.textContent=e,document.head.appendChild(n)},_=function(e,n){var t=document.createElement("script");t.async=!0,t.onload=n,t.src=e,document.head.appendChild(t)},E=function(e){var n=e.url,t=e.content,o=e.name,u=e.callback;setTimeout(function(){if(t){m[n]=t;var i=C("execute");return T(t,e),i({type:"js",module:e}),void u()}var c=m[n];if(c)try{var i=C("execute");T(m[n],e),i({type:"js",module:e}),u()}catch(t){r.removeItem(o);var i=C("native-invoke");_(n,function(){i({type:"js",module:e}),u&&u()})}else{r.removeItem(o);var i=C("native-invoke");_(n,function(){i({type:"js",module:e}),u&&u()})}},0)},I=function(e,n){var t=document.createElement("link");t.rel="stylesheet",t.type="text/css",t.href=e,t.onload=n,document.head.appendChild(t)},U=function(e){var n=e.url,t=e.content,o=e.name,u=e.callback;setTimeout(function(){if(t){m[n]=t;var i=C("execute");return y(t),i({type:"css",module:e}),void u()}var c=m[n];if(c){var i=C("execute");y(c),i({type:"css",module:e}),u()}else{r.removeItem(o);var i=C("native-invoke");I(n,function(){i({type:"css",module:e}),u&&u()})}})},F=function(e){var n=e.url,t=e.name,r=e.sign,o=e.content||m[n],i=e.callback,c=function(e){var n=e.replace(/[#?].*$/,"").split(".");return n[n.length-1]}(n),a="js"===c?E:"css"===c?U:null;if(!a)return void i();if(o)a({url:n,name:t,sign:r,content:o,callback:i});else{var l=C("fetch");u(n,function(o){return l({mode:"full",content:o,module:e}),O(r,k(o))?void i():void a({url:n,name:t,sign:r,content:o,callback:i})})}},L=function(n,t,r){var o=t.length,u=function(){!--o&&r&&r(n)};if(0===o)return void(r&&r());for(var i=0;i<t.length;i++){var c=t[i],a=f[c];"function"!=typeof e&&"undefined"!=typeof a?a.rely&&0!==a.rely.length?L(n,a.rely,function(e){return function(){n.push(c),u()}}(a)):(n.push(c),u()):u()}},N=function(e){var n,t,r=0;if(0===e.length)return r;for(n=0;n<e.length;n++)t=e.charCodeAt(n),r=(r<<5)-r+t,r|=0;return String(r)},k=function(e){if(e){var n=C("sign"),t=N(e);return n({content:e}),"hc1:"+t}},O=function(e,n){return!!(a.useSign&&e&&n)&&e!==n},b=function(e){var n=e.url,t=e.name,i=e.version,c=e.callback,l=e.sign;if(!v[n]||d[n])if(s[n]&&m[n]&&!d[n]){if(c)return void c(m[n])}else{if(v[n]=!0,d[n]=!1,a.isStore){var f=C("store:load"),g=r.getItem(t)||{};f({content:g});var S=g.c||"",h=g.u||"",x=g.v||"",T=g.s||"",y=h===n.replace(/[?#].*$/,"")||i&&l&&x===i&&T===l;if(y)return s[n]=!0,v[n]=!1,m[n]=S,void(c&&c(S));var _=function(o){return"number"!=typeof p[n]&&(p[n]=0),p[n]++,r.removeItem(t),p[n]>=o?void c():(d[n]=!0,void b(e))},E=i?h:"";return void o.merge(E,n,S,function(e,o){if(!e&&""!==E)return void _(1);var u=k(e);if(O(l,u))return void _(1);if(s[n]=!0,v[n]=!1,m[n]=e,e&&i&&n){var f=C("store:save"),d=r.setItem(t,e,i,n,u);f({content:e}),d||(a.isStore=!1,a.clearStoreIfCantSave&&r.clear())}c&&c(e)})}var I=C("fetch");u(n,function(t){return I({mode:"full",module:e}),O(l,k(t))?void c():void(t?(s[n]=!0,v[n]=!1,m[n]=t,c&&c(t)):(d[n]=!0,b(e)))})}else if(c)return void setTimeout(function(){b(e)},5)},w=function(e,n){L([],e,function(e){var t=e.length,r=function(){!--t&&n&&n()};if(0===t)return void(n&&n());for(var o=0;o<e.length;o++){var u=e[o],i=f[u];b({url:i.path,name:u,version:i.version,callback:r,sign:i.sign})}})},H=function(e,n){var t=e.length,r=function(){!--t&&n&&n()};if(0===t)return void(n&&n());for(var o=0;o<e.length;o++){var u=e[o],i=f[u];"function"!=typeof u?"undefined"!=typeof i?i.rely&&0!==i.rely.length?H(i.rely,function(e){return function(){F({url:e.path,name:u,sign:e.sign,callback:r})}}(i)):F({url:i.path,name:u,sign:i.sign,callback:r}):(console&&console.warn&&console.warn("In Error :: Module not found: "+u),r()):(e[o](),r())}},W=function(e,n){return 0===arguments.length?a:1===arguments.length?a[e]:(a[e]=n,l[e]&&l[e](n),n)},P=function(e,n){e&&n&&(f[e]="string"==typeof n?{path:n}:n)},D=function(e){if(e.modules)for(var n in e.modules)if(e.modules.hasOwnProperty(n)){var t=e.modules[n];if(!e.modules.hasOwnProperty(n))continue;P(n,t)}},j=function(){var e=function(){},n=[].slice.call(arguments);"function"==typeof n[n.length-1]&&(e=n.pop()),"function"==typeof a.hook&&(C=x),a.isStore?w(n,function(){H(n,e)}):H(n,e)},R=function(){f={},s={},v={},d={},m={},p={},C=S};c.config=W,c.add=P,c.adds=D,c.use=j,c.reset=R,e.exports=c},function(e,n){function t(e){d=e}function r(){return d}function o(e){if(!e)return!1;try{var n=v.getItem(d+e);return Boolean(n)}catch(e){return!1}}function u(e){if(!e)return null;try{var n=v.getItem(d+e);return n?JSON.parse(n):null}catch(e){return null}}function i(e,n,t,r,o){if(!(e&&n&&t&&r))return!1;try{var u={u:r.replace(/[?#].*$/,""),v:t,c:n};return o&&(u.s=o),v.setItem(d+e,JSON.stringify(u)),!0}catch(e){return!1}}function c(e){if(!e)return!1;try{return v.removeItem(d+e),!0}catch(e){return!1}}function a(e){var n=u(e);return n?n.v:""}function l(e){var n=u(e);return n?n.c:""}function f(e){var n=u(e);return n?n.u:""}function s(){if(d)for(var e in v)0===e.indexOf(d)&&v.removeItem(e)}var v=window.localStorage,d="";e.exports={setPrefix:t,getPrefix:r,isExist:o,getItem:u,setItem:i,removeItem:c,getVersion:a,getContent:l,getUrl:f,clear:s}},function(e,n,t){function r(){return e.exports.invokeHook?e.exports.invokeHook.apply(null,arguments):function(){}}function o(e){v=e}function u(e){d=e}function i(e,n){for(var t=r("merge:calculation"),o="",u=n,i=null,c=0;c<u.length;c++){var a=u[c];if("object"==typeof a){var l=a[0]-1,f=a[1];i&&(l+=i[0]),i=a,o+=e.substring(l,l+f)}else o+=a}return t(),o}function c(e,n){return d+e.replace(/(http:|https:|\/)/g,"").replace(/[?#].*$/,"")+"-"+n.replace(/(http:|https:|\/)/g,"").replace(/[?#].*$/,"")}function a(e,n){return v+"?target="+e.replace(/[?#].*$/,"")+"&source="+n.replace(/[?#].*$/,"")}function l(e,n,t){var o=r("merge:pull-diff"),u=c(n,e);s(u,function(u){if(u){var i=u[u.length-1];o({mergeCode:i}),t(Number(i)===p.SUCCESS_WITH_DIFF||Number(i)===p.SUCCESS_WITH_FULL_CONTENT?{code:Number(i),data:u.substr(0,u.length-1)}:{code:Number(i)})}else{o({mergeCode:-1}),o=r("merge:request-diff");var c=a(n,e);s(c,function(e,n){if(/application\/json/i.test(n.getResponseHeader("Content-Type"))){var r=JSON.parse(e),u=Number(r.code),i=r.data;o({mergeCode:u}),t({code:u,data:i})}else o({mergeCode:-1}),t({code:p.FAILED})})}})}function f(e,n,t,r){if(v&&d||console&&console.error&&console.error("In Error :: Server url not set"),!e)return void s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)});try{l(e,n,function(e){var o=e.code,u=e.data;o===p.SUCCESS_WITH_DIFF?u.length>m?s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)}):r(i(t,JSON.parse(u)),o):o===p.SUCCESS_WITH_FULL_CONTENT?r(u,o):o===p.SUCCESS_WITHOUT_DIFF?r(t,o):s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)})})}catch(e){s(n,function(e){r(e,p.SUCCESS_WITH_FULL_CONTENT)})}}var s=t(4),v="",d="",m=65536,p={FAILED:0,SUCCESS_WITH_DIFF:1,SUCCESS_WITH_FULL_CONTENT:2,SUCCESS_WITHOUT_DIFF:3};e.exports={_merge:i,_getMixDiff:l,setUrl:o,setCdnUrl:u,merge:f,RESULT_TYPE:p}},function(e,n){e.exports=function(e,n){var t=new window.XMLHttpRequest;return t.open("GET",e,!0),t.onreadystatechange=function(){4===t.readyState&&(200===t.status?n(t.responseText,t):n(null,t))},t.send(null)}},function(e,n){e.exports=function(){var e=(new Date).getTime(),n="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==n?t:3&t|8).toString(16)});return n}}]);